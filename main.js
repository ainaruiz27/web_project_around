!function(){"use strict";document.querySelector("#image-popup");var t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__button",inputErrorClass:"form__input_type_error",errorClass:"error-message",submitButtonState:{disabledClass:"your-submit-button-disabled-class"}},e=document.querySelector(".profile__avatar"),n=document.querySelector(".profile__overlay-button");function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:String(e)}var u=function(){function t(e,n,r,o,i,u,a,c,l){var s=c._id,f=c.likes,p=c.owner,y=c.createAt;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._link=e,this._title=n,this._selector=r,this._handleCardClick=o,this._handleLike=i,this._handleRemoveLike=u,this._handleDeleteCard=a,this._id=s,this._likes=f,this._owner=p,this._createdAt=y,this._user=l}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){var t=document.querySelector(this._selector).content.querySelector(".card").cloneNode(!0),e=t.querySelector(".card__image"),n=t.querySelector(".card__text"),r=t.querySelector(".card__like"),o=t.querySelector(".card__counter"),i=t.querySelector(".card__trash-icon");return n.textContent=this._title,e.src=this._link,e.alt=this._title,this.hasOwnerLike()&&r.classList.add("card__like_active"),o.textContent=this._likes.length,this._owner._id!==this._user._id&&(i.style.display="none"),t}},{key:"_setEventListeners",value:function(t){var e=this;t.querySelector(".card__image").addEventListener("click",(function(t){e._handleCardClick(e._link,e._title)}));var n=t.querySelector(".card__like"),r=t.querySelector(".card__counter"),o=t.querySelector(".card__trash-icon");n.addEventListener("click",(function(t){e.hasOwnerLike()?e._handleRemoveLike(e._id).then((function(t){e._likes=t.likes,n.classList.remove("card__like_active"),r.textContent=e._likes.length})):e._handleLike(e._id).then((function(t){e._likes=t.likes,n.classList.add("card__like_active"),r.textContent=e._likes.length}))})),o.addEventListener("click",(function(n){e._handleDeleteCard(e._id,t)}))}},{key:"hasOwnerLike",value:function(){var t=this;return this._likes.some((function(e){return e._id===t._user._id}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(this._element),this._element}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:String(e)}var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._inputList=Array.from(n.querySelectorAll(this._config.inputSelector)),this._buttonElement=n.querySelector(this._config.submitButtonSelector),this._inputErrorClass=this._config.inputErrorClass,this._errorClass=this._config.errorClass,this._submitButtonState=this._config.submitButtonState,this._setEventListeners()}var e,n;return e=t,(n=[{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._handleInput(e)}))})),this._formElement.addEventListener("submit",(function(t){t.preventDefault()})),this._toggleButtonState()}},{key:"_handleInput",value:function(t){this._checkInputValidity(t),this._toggleButtonState()}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_showInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._submitButtonState.disabledClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._submitButtonState.disabledClass),this._buttonElement.disabled=!1)}},{key:"enableValidation",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._handleInput(e)}))})),this._toggleButtonState()}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:String(e)}var v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__close-icon"),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("visible"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("visible"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._closeButton.addEventListener("click",(function(){return t.close()})),this._popup.addEventListener("click",(function(e){e.target.classList.contains("overlay")&&t.close()}))}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(e)?e:String(e)}function d(t,e,n){return e=g(e),function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},S.apply(this,arguments)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}var k=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=d(this,e,[t]))._image=n._popup.querySelector(".popup__image"),n._caption=n._popup.querySelector(".popup__image-title"),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),n=e,(r=[{key:"open",value:function(t){var n=t.src,r=t.alt;this._image.src=n,this._image.alt=r,this._caption.textContent=r,S(g(e.prototype),"open",this).call(this)}}])&&b(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(v);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O(r.key),r)}}function O(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:String(e)}var C=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,n=[{key:"render",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this._container.prepend(t):this._container.append(t)}}],n&&j(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T(r.key),r)}}function T(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==L(e)?e:String(e)}var q=function(){function t(e){var n=e.nameSelector,r=e.jobSelector,o=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameElement=n,this._jobElement=r,this._avatarElement=o}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.job;this._nameElement.textContent=e,this._jobElement.textContent=n}},{key:"setAvatar",value:function(t){this._avatarElement.src=t}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function R(t){var e=function(t,e){if("object"!=B(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:String(e)}function x(t,e,n){return e=U(e),function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,A()?Reflect.construct(e,n||[],U(t).constructor):e.apply(t,n))}function A(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(A=function(){return!!t})()}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},D.apply(this,arguments)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}var z=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=x(this,e,[t]))._submitCallback=n,r._form=r._popup.querySelector(".form"),r._inputList=r._form.querySelectorAll(".form__input"),r._submitButton=r._form.querySelector(".form__button"),r}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(e,t),n=e,(r=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;D(U(e.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitButton.textContent="Guardando...",t._submitCallback(t._getInputValues()).finally((function(){t._submitButton.textContent="Guardar",t.close()}))}))}},{key:"close",value:function(){D(U(e.prototype),"close",this).call(this),this._form.reset()}}])&&I(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(v);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J(r.key),r)}}function J(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==N(e)?e:String(e)}var H=new(function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e,this._token=n}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return fetch(this._url+"/users/me",{headers:{Authorization:this._token}}).then((function(t){return t.json()}))}},{key:"getCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(t){return t.json()}))}},{key:"updateUser",value:function(t){var e=t.name,n=void 0===e?null:e,r=t.about,o=void 0===r?null:r,i=t.avatar,u=void 0===i?null:i,a={};return u?a.avatar=u:(a.name=n,a.about=o),fetch("".concat(this._url,"/users/me").concat(u?"/avatar":""),{headers:{authorization:this._token,"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify(a)}).then((function(t){return t.json()}))}},{key:"addCard",value:function(t,e){return fetch("".concat(this._url,"/cards"),{headers:{Authorization:this._token,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:e,link:t})}).then((function(t){return t.json()}))}},{key:"deleteCard",value:function(t){return fetch(this._url+"/cards/"+t,{headers:{Authorization:this._token,"Content-Type":"application/json"},method:"DELETE"}).then((function(t){return t.json()}))}},{key:"addLike",value:function(t){return fetch(this._url+"/cards/likes/"+t,{headers:{Authorization:this._token,"Content-Type":"application/json"},method:"PUT"}).then((function(t){return t.json()}))}},{key:"removeLike",value:function(t){return fetch(this._url+"/cards/likes/"+t,{headers:{Authorization:this._token,"Content-Type":"application/json"},method:"DELETE"}).then((function(t){return t.json()}))}}])&&G(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())("https://around.nomoreparties.co/v1/web_es_11","e261a8b3-b4ff-46a8-9ab6-ef7a9f75bcee");function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K(r.key),r)}}function K(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==M(e)?e:String(e)}function Q(t,e,n){return e=Y(e),function(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,W()?Reflect.construct(e,n||[],Y(t).constructor):e.apply(t,n))}function W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(W=function(){return!!t})()}function X(){return X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},X.apply(this,arguments)}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z(t,e)}var $=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Q(this,e,[t]))._confirmButton=r._popup.querySelector(".popup__confirm-button"),r}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(e,t),n=e,(r=[{key:"setEventListeners",value:function(){var t=this;X(Y(e.prototype),"setEventListeners",this).call(this),this._confirmButton.addEventListener("click",(function(){t._handleConfirm(),t.close()}))}},{key:"open",value:function(t){X(Y(e.prototype),"open",this).call(this),this._handleConfirm=t}}])&&F(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(v),tt=document.querySelector(".form.form_profile"),et=document.querySelector(".profile__info-editbutton"),nt=document.querySelector(".profile__addbutton"),rt=document.querySelector("#name"),ot=document.querySelector("#profession"),it=document.querySelector(".form.form_place"),ut=document.querySelector(".form_edit-avatar"),at=document.querySelector(".profile__info-name"),ct=document.querySelector(".profile__info-work"),lt=new k("#image-popup"),st=new z("#profile__popup",(function(t){var e=t.name,n=t.about;return H.updateUser({about:n,name:e}).then((function(t){pt.setUserInfo({name:e,job:n})}))})),ft=new z("#add__popup",(function(t){var e=t.title,n=t.link;return H.addCard(n,e).then((function(t){var r=new u(n,e,".template-card",(function(t,e){lt.open({src:t,alt:e})}),(function(t){return H.addLike(t)}),(function(t){return H.removeLike(t)}),(function(t,e){yt.open((function(){return H.deleteCard(t).then((function(){e.remove()}))}))}),t,bt);mt.addItem(r.generateCard(),!1)}))})),pt=new q({nameSelector:at,jobSelector:ct,avatarSelector:e}),yt=new $("#confirmation-popup"),vt=new z("#edit-avatar-popup",(function(t){var e=t.newAvatarLink;return H.updateUser({avatar:e}).then((function(){pt.setAvatar(e)}))}));lt.setEventListeners(),st.setEventListeners(),ft.setEventListeners(),yt.setEventListeners(),vt.setEventListeners();var mt=null,bt=null;H.getUserInfo().then((function(t){bt=t,pt.setUserInfo({name:t.name,job:t.about}),pt.setAvatar(t.avatar),H.getCards().then((function(t){(mt=new C({items:t,renderer:function(t){var e=new u(t.link,t.name,".template-card",(function(t,e){lt.open({src:t,alt:e})}),(function(t){return H.addLike(t)}),(function(t){return H.removeLike(t)}),(function(t,e){yt.open((function(){H.deleteCard(t).then((function(){e.remove()})),H.getCards()}))}),t,bt);mt.addItem(e.generateCard())}},".elements")).render()}))})),et.addEventListener("click",(function(){st.open(),rt.value=at.textContent.trim(),ot.value=ct.textContent.trim()})),nt.addEventListener("click",(function(){ft.open()})),n.addEventListener("click",(function(){vt.open()})),new s(t,tt).enableValidation(),new s(t,it).enableValidation(),new s(t,ut).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTzNDLEVBQUk2QyxXQUFXRixFQUN4QixJQUVBLFNBQUNBLEVBQVFHLEdBQ1BDLEdBQXNCTCxNQUNwQixXQUNFMUMsRUFBSWdELFdBQVdMLEdBQVF4SSxNQUFLLFdBQzFCMkksRUFBU3pJLFFBQ1gsSUFDQTJGLEVBQUkyRCxVQUNOLEdBRUosR0FDQXRGLEVBQ0ExRyxJQUNGc0wsR0FBYUMsUUFBUVQsRUFBUVUsZUFDL0IsR0FDQyxjQUNVVSxRQUNmLEdBQ0YsSUE4Q0FuQyxHQUFRekgsaUJBQWlCLFNBQVMsV0FDaENrSSxHQUFnQk8sT0FDaEJkLEdBQVU5SSxNQUFRa0osR0FBWTFJLFlBQVl3SyxPQUMxQ2pDLEdBQWdCL0ksTUFBUW1KLEdBQVczSSxZQUFZd0ssTUFDakQsSUFHQW5DLEdBQVcxSCxpQkFBaUIsU0FBUyxXQUNuQ3NJLEdBQWdCRyxNQUNsQixJQUdBekwsRUFBYWdELGlCQUFpQixTQUFTLFdBQ3JDbUosR0FBWVYsTUFDZCxJQUU2QixJQUFJOUgsRUFBY3BFLEVBQVlpTCxJQUN0Q3NDLG1CQUVRLElBQUluSixFQUFjcEUsRUFBWXNMLElBQ3RDaUMsbUJBRU8sSUFBSW5KLEVBQWNwRSxFQUFZdUwsSUFDdENnQyxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFsbGUgZGUgWW9zZW1pdGVcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMveW9zZW1pdGUuanBnXCIsXHJcbiAgICBhbHQ6IFwiVmFsbGUgZGUgWW9zZW1pdGVcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWtlLWxvdWlzZS5qcGdcIixcclxuICAgIGFsdDogXCJMYWdvIExvdWlzZVwiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vbnRhw7FhcyBDYWx2YXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgICBhbHQ6IFwiTW9udGHDsWFzIENhbHZhc1wiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGF0ZW1hci5qcGdcIixcclxuICAgIGFsdDogXCJMYXRlbWFyXCJcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvdmFub2lzZS5qcGdcIixcclxuICAgIGFsdDogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xhZ28uanBnXCIsXHJcbiAgICBhbHQ6IFwiTGFnbyBkaSBCcmFpZXNcIlxyXG4gIH0sXHJcbl07XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGltYWdlUG9wVXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLXBvcHVwXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImVycm9yLW1lc3NhZ2VcIixcclxuICBzdWJtaXRCdXR0b25TdGF0ZToge1xyXG4gIGRpc2FibGVkQ2xhc3M6IFwieW91ci1zdWJtaXQtYnV0dG9uLWRpc2FibGVkLWNsYXNzXCIsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhdmF0YXJOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX292ZXJsYXktYnV0dG9uJyk7XHJcbiIsImltcG9ydCB7IGhhbmRsZUxpa2VJY29uLCBoYW5kbGVEZWxldGVDYXJkIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yXHJcbiAgICAobGluayx0aXRsZSxzZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlLFxyXG4gICAgICAgaGFuZGxlUmVtb3ZlTGlrZSwgaGFuZGxlRGVsZXRlQ2FyZCwgXHJcbiAgICAgICB7X2lkLCBsaWtlcywgb3duZXIsY3JlYXRlQXR9LCB1c2VyXHJcbiAgICAgICApIHtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5fdGl0bGUgPSB0aXRsZTtcclxuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlID0gaGFuZGxlTGlrZTtcclxuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UgPSBoYW5kbGVSZW1vdmVMaWtlO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XHJcbiAgICB0aGlzLl9vd25lciA9IG93bmVyO1xyXG4gICAgdGhpcy5fY3JlYXRlZEF0ID0gY3JlYXRlQXQ7XHJcbiAgICB0aGlzLl91c2VyID0gdXNlcjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIGNvbnN0IGltYWdlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190ZXh0Jyk7XHJcbiAgICBjb25zdCBsaWtlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpOyAgICBcclxuICAgIGNvbnN0IGNvdW50ZXJOb2RlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19jb3VudGVyXCIpOyAgICBcclxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2gtaWNvblwiKTtcclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XHJcbiAgICBpbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgaW1hZ2UuYWx0ID0gdGhpcy5fdGl0bGU7XHJcbiAgICBpZih0aGlzLmhhc093bmVyTGlrZSgpKXtcclxuICAgICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjYXJkX19saWtlX2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gICAgY291bnRlck5vZGUudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICBpZih0aGlzLl9vd25lci5faWQgIT09IHRoaXMuX3VzZXIuX2lkKXtcclxuICAgICAgZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG4gXHJcbiAgXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKG5vZGUpIHtcclxuICAgIG5vZGUucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2xpbmssIHRoaXMuX3RpdGxlKTtcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgbGlrZUJ1dHRvbiA9IG5vZGUucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpO1xyXG4gICAgY29uc3QgY291bnRlck5vZGUgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fY291bnRlclwiKTtcclxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG5vZGUucXVlcnlTZWxlY3RvcihcIi5jYXJkX190cmFzaC1pY29uXCIpO1xyXG5cclxuICAgIGxpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICAgIGlmKHRoaXMuaGFzT3duZXJMaWtlKCkpe1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UodGhpcy5faWQpLnRoZW4oKGNhcmQpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2xpa2VzID0gY2FyZC5saWtlcztcclxuICAgICAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICAgICAgICAgIGNvdW50ZXJOb2RlLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2UodGhpcy5faWQpLnRoZW4oKGNhcmQpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2xpa2VzID0gY2FyZC5saWtlcztcclxuICAgICAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICAgICAgICAgIGNvdW50ZXJOb2RlLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2lkLCBub2RlKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYXNPd25lckxpa2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZShsaWtlID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VyLl9pZClcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnModGhpcy5fZWxlbWVudCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSB0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzO1xyXG5cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblN0YXRlID0gdGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblN0YXRlO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0KGlucHV0RWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbnB1dChpbnB1dEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zdWJtaXRCdXR0b25TdGF0ZS5kaXNhYmxlZENsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU3RhdGUuZGlzYWJsZWRDbGFzc1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dChpbnB1dEVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1pY29uJyk7ICAgICAgXHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJvdmVybGF5XCIpKSB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9jYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS10aXRsZScpO1xyXG4gIH1cclxuXHJcbiAgb3Blbih7IHNyYywgYWx0IH0pIHtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IHNyYztcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGFsdDtcclxuICAgIHRoaXMuX2NhcHRpb24udGV4dENvbnRlbnQgPSBhbHQ7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgdGhpcy5faXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBcclxuICAgIGFkZEl0ZW0oZWxlbWVudCwgaW5zZXJ0T25Ub3AgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYoaW5zZXJ0T25Ub3Ape1xyXG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICAgIHRoaXMuX25hbWVFbGVtZW50ID0gbmFtZVNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9qb2JFbGVtZW50ID0gam9iU2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX2F2YXRhckVsZW1lbnQgPSBhdmF0YXJTZWxlY3RvcjtcclxuICAgIH1cclxuICBcclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICAgIGpvYjogdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgc2V0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xyXG4gICAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXZhdGFyKGF2YXRhcil7XHJcbiAgICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRDYWxsYmFjaykge1xyXG4gICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgdGhpcy5fc3VibWl0Q2FsbGJhY2sgPSBzdWJtaXRDYWxsYmFjaztcclxuICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbiAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX2J1dHRvbicpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICAgIH1cclxuICBcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0d1YXJkYW5kby4uLidcclxuICAgICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdHdWFyZGFyJztcclxuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KTsgICAgICAgICAgICAgICAgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIH1cclxuICB9XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIHRva2VuKSB7XHJcbiAgICAgICAgdGhpcy5fdXJsID0gdXJsO1xyXG4gICAgICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XHJcbiAgICB9XHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsICsgJy91c2Vycy9tZScsIHtcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgfVxyXG5cclxuICAgIGdldENhcmRzKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBcImF1dGhvcml6YXRpb25cIjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVVc2VyKHtuYW1lID0gbnVsbCwgYWJvdXQgPSBudWxsLCBhdmF0YXIgPSBudWxsfSkge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xyXG4gICAgICAgIGlmKGF2YXRhcil7XHJcbiAgICAgICAgICAgIHBhcmFtcy5hdmF0YXIgPSBhdmF0YXI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHBhcmFtcy5uYW1lID0gbmFtZTtcclxuICAgICAgICAgICAgcGFyYW1zLmFib3V0ID0gYWJvdXQ7ICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lJHthdmF0YXI/ICcvYXZhdGFyJzogJyd9YCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBcImF1dGhvcml6YXRpb25cIjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zKSxcclxuICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2FyZChsaW5rLCB0aXRsZSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICBsaW5rLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUNhcmQoaWRDYXJkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCArIFwiL2NhcmRzL1wiICsgaWRDYXJkLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgIH1cclxuXHJcbiAgICBhZGRMaWtlKGlkQ2FyZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwgKyBcIi9jYXJkcy9saWtlcy9cIiArIGlkQ2FyZCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUxpa2UoaWRDYXJkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgaWRDYXJkLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSgnaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMTEnLCAnZTI2MWE4YjMtYjRmZi00NmE4LTlhYjYtZWY3YTlmNzViY2VlJyk7XHJcblxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuICBcclxuXHJcbiBleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVDb25maXJtKSB7XHJcbiAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgIFxyXG4gICAgICB0aGlzLl9jb25maXJtQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb25maXJtLWJ1dHRvbicpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgIHRoaXMuX2NvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ29uZmlybSgpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBvcGVuKGhhbmRsZUNvbmZpcm0pIHtcclxuICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVDb25maXJtID0gaGFuZGxlQ29uZmlybTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgaW5pdGlhbENhcmRzLCBmb3JtQ29uZmlnLCBhdmF0YXJOb2RlLCBidXR0b25BdmF0YXIgfSBmcm9tIFwiLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgJy4vcGFnZS9pbmRleC5jc3MnO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcblxyXG5cclxuY29uc3QgZm9ybVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0uZm9ybV9wcm9maWxlXCIpO1xyXG5jb25zdCBidG5TYXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbmZvLWVkaXRidXR0b25cIik7XHJcbmNvbnN0IGJ0bkFkZEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZGJ1dHRvblwiKTtcclxuY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpO1xyXG5jb25zdCBpbnB1dFByb2Zlc3Npb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2Zlc3Npb25cIik7XHJcbmNvbnN0IGZvcm1VcmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0uZm9ybV9wbGFjZVwiKTtcclxuY29uc3QgZm9ybUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9lZGl0LWF2YXRhclwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2luZm8tbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW5mby13b3JrXCIpO1xyXG5jb25zdCBwb3B1cE9iakltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcjaW1hZ2UtcG9wdXAnKTtcclxuY29uc3QgcG9wdXBPYmpQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwcm9maWxlX19wb3B1cCcsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KVxyXG5jb25zdCBwb3B1cE9iakFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI2FkZF9fcG9wdXAnLCBoYW5kbGVBZGRGb3JtU3VibWl0KTtcclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oeyBuYW1lU2VsZWN0b3I6IHByb2ZpbGVOYW1lLCBqb2JTZWxlY3RvcjogcHJvZmlsZUpvYiwgYXZhdGFyU2VsZWN0b3I6IGF2YXRhck5vZGUgfSk7XHJcbmNvbnN0IHBvcHVwV2l0aENvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oJyNjb25maXJtYXRpb24tcG9wdXAnKTtcclxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI2VkaXQtYXZhdGFyLXBvcHVwJywgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCApO1xyXG5cclxucG9wdXBPYmpJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cE9ialByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBPYmpBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwV2l0aENvbmZpcm1hdGlvbi5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxubGV0IGNhcmRzU2VjdGlvbiA9IG51bGw7XHJcblxyXG5sZXQgdXNlciA9IG51bGw7XHJcblxyXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKGRhdGFVc2VyID0+IHtcclxuICB1c2VyID0gZGF0YVVzZXI7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oe1xyXG4gICAgbmFtZTogZGF0YVVzZXIubmFtZSxcclxuICAgIGpvYjogZGF0YVVzZXIuYWJvdXRcclxuICB9KVxyXG4gIHVzZXJJbmZvLnNldEF2YXRhcihkYXRhVXNlci5hdmF0YXIpXHJcbiAgYXBpLmdldENhcmRzKCkudGhlbihjYXJkcyA9PiB7XHJcbiAgICBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgICAgIGl0ZW1zOiBjYXJkcyxcclxuICAgICAgcmVuZGVyZXI6IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKGl0ZW0ubGluaywgaXRlbS5uYW1lLCBcIi50ZW1wbGF0ZS1jYXJkXCIsXHJcbiAgICAgICAgICAobGluaywgdGl0bGUpID0+IHtcclxuICAgICAgICAgICAgcG9wdXBPYmpJbWFnZS5vcGVuKHsgc3JjOiBsaW5rLCBhbHQ6IHRpdGxlIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLFxyXG4gICAgICAgICAgLyogaGFuZGxlTGlrZSAqL1xyXG4gICAgICAgICAgKGNhcmRJZCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYXBpLmFkZExpa2UoY2FyZElkKVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIC8qIGhhbmRsZVJlbW92ZUxpa2UgKi9cclxuICAgICAgICAgIChjYXJkSWQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGFwaS5yZW1vdmVMaWtlKGNhcmRJZClcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvKiBoYW5kbGVEZWxldGVDYXJkICovXHJcbiAgICAgICAgICAoY2FyZElkLCBjYXJkTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cFdpdGhDb25maXJtYXRpb24ub3BlbiggICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGFwaS5kZWxldGVDYXJkKGNhcmRJZCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNhcmROb2RlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhcGkuZ2V0Q2FyZHMoKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTsgICAgICAgICAgXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgaXRlbSxcclxuICAgICAgICAgIHVzZXIpO1xyXG4gICAgICAgIGNhcmRzU2VjdGlvbi5hZGRJdGVtKG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCkpXHJcbiAgICAgIH1cclxuICAgIH0sICcuZWxlbWVudHMnKTtcclxuICAgIGNhcmRzU2VjdGlvbi5yZW5kZXIoKTtcclxuICB9KTtcclxufSlcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gIHJldHVybiBhcGkudXBkYXRlVXNlcih7YWJvdXQsIG5hbWV9KS50aGVuKHVzZXIgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lLCBqb2I6IGFib3V0IH0pO1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZEZvcm1TdWJtaXQoeyB0aXRsZSwgbGluayB9KSB7XHJcbiAgcmV0dXJuIGFwaS5hZGRDYXJkKGxpbmssIHRpdGxlKS50aGVuKGNhcmQgPT4ge1xyXG4gICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgICBsaW5rLFxyXG4gICAgICB0aXRsZSxcclxuICAgICAgXCIudGVtcGxhdGUtY2FyZFwiLFxyXG4gICAgICAobGluaywgdGl0bGUpID0+IHtcclxuICAgICAgICBwb3B1cE9iakltYWdlLm9wZW4oeyBzcmM6IGxpbmssIGFsdDogdGl0bGUgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAoY2FyZElkKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGFwaS5hZGRMaWtlKGNhcmRJZClcclxuICAgICAgfSxcclxuXHJcbiAgICAgIChjYXJkSWQpID0+IHtcclxuICAgICAgICByZXR1cm4gYXBpLnJlbW92ZUxpa2UoY2FyZElkKVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgKGNhcmRJZCwgY2FyZE5vZGUpID0+IHtcclxuICAgICAgICBwb3B1cFdpdGhDb25maXJtYXRpb24ub3BlbigoKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gYXBpLmRlbGV0ZUNhcmQoY2FyZElkKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgY2FyZE5vZGUucmVtb3ZlKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgY2FyZCxcclxuICAgICAgdXNlclxyXG4gICAgKTtcclxuICAgIGNhcmRzU2VjdGlvbi5hZGRJdGVtKG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCksIGZhbHNlKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCh7bmV3QXZhdGFyTGlua30pIHtcclxuICByZXR1cm4gYXBpLnVwZGF0ZVVzZXIoe2F2YXRhcjogbmV3QXZhdGFyTGlua30pLnRoZW4oKCkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0QXZhdGFyKG5ld0F2YXRhckxpbmspOyAgICBcclxuICB9KVxyXG59XHJcblxyXG5idG5TYXZlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBPYmpQcm9maWxlLm9wZW4oKTtcclxuICBpbnB1dE5hbWUudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgaW5wdXRQcm9mZXNzaW9uLnZhbHVlID0gcHJvZmlsZUpvYi50ZXh0Q29udGVudC50cmltKCk7XHJcbn0pO1xyXG5cclxuXHJcbmJ0bkFkZEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBwb3B1cE9iakFkZENhcmQub3BlbigpO1xyXG59KTtcclxuXHJcblxyXG5idXR0b25BdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBBdmF0YXIub3BlbigpO1xyXG59KVxyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvclByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBmb3JtUHJvZmlsZSk7XHJcbmZvcm1WYWxpZGF0b3JQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JBZGRDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZywgZm9ybVVybCk7XHJcbmZvcm1WYWxpZGF0b3JBZGRDYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JBdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBmb3JtQXZhdGFyKTtcclxuZm9ybVZhbGlkYXRvckF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJuYW1lcyI6WyJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInN1Ym1pdEJ1dHRvblN0YXRlIiwiZGlzYWJsZWRDbGFzcyIsImF2YXRhck5vZGUiLCJidXR0b25BdmF0YXIiLCJDYXJkIiwibGluayIsInRpdGxlIiwic2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlIiwiaGFuZGxlUmVtb3ZlTGlrZSIsImhhbmRsZURlbGV0ZUNhcmQiLCJfcmVmIiwidXNlciIsIl9pZCIsImxpa2VzIiwib3duZXIiLCJjcmVhdGVBdCIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfbGluayIsIl90aXRsZSIsIl9zZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZSIsIl9oYW5kbGVSZW1vdmVMaWtlIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfbGlrZXMiLCJfb3duZXIiLCJfY3JlYXRlZEF0IiwiX3VzZXIiLCJrZXkiLCJ2YWx1ZSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImltYWdlIiwibGlrZUJ1dHRvbiIsImNvdW50ZXJOb2RlIiwiZGVsZXRlQnV0dG9uIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJoYXNPd25lckxpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJsZW5ndGgiLCJzdHlsZSIsImRpc3BsYXkiLCJub2RlIiwiX3RoaXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ0aGVuIiwiY2FyZCIsInJlbW92ZSIsIl90aGlzMiIsInNvbWUiLCJsaWtlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9zdWJtaXRCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfaGFuZGxlSW5wdXQiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2NhbGxTdXBlciIsIl9pbWFnZSIsIl9jYXB0aW9uIiwiX2luaGVyaXRzIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNhbGwiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwicHJlcGVuZCIsImFwcGVuZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJuYW1lIiwiam9iIiwiX3JlZjIiLCJhdmF0YXIiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Q2FsbGJhY2siLCJfc3VibWl0Q2FsbGJhY2siLCJfZm9ybSIsIl9zdWJtaXRCdXR0b24iLCJpbnB1dFZhbHVlcyIsImlucHV0IiwiX2dldElucHV0VmFsdWVzIiwiZmluYWxseSIsInJlc2V0IiwiYXBpIiwiQXBpIiwidXJsIiwidG9rZW4iLCJfdXJsIiwiX3Rva2VuIiwiZmV0Y2giLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInJlc3BvbnNlIiwianNvbiIsIl9yZWYkbmFtZSIsIl9yZWYkYWJvdXQiLCJhYm91dCIsIl9yZWYkYXZhdGFyIiwicGFyYW1zIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpZENhcmQiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJoYW5kbGVDb25maXJtIiwiX2NvbmZpcm1CdXR0b24iLCJfaGFuZGxlQ29uZmlybSIsImZvcm1Qcm9maWxlIiwiYnRuU2F2ZSIsImJ0bkFkZEl0ZW0iLCJpbnB1dE5hbWUiLCJpbnB1dFByb2Zlc3Npb24iLCJmb3JtVXJsIiwiZm9ybUF2YXRhciIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUpvYiIsInBvcHVwT2JqSW1hZ2UiLCJwb3B1cE9ialByb2ZpbGUiLCJ1cGRhdGVVc2VyIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInBvcHVwT2JqQWRkQ2FyZCIsImFkZENhcmQiLCJuZXdDYXJkIiwib3BlbiIsImNhcmRJZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwiY2FyZE5vZGUiLCJwb3B1cFdpdGhDb25maXJtYXRpb24iLCJkZWxldGVDYXJkIiwiY2FyZHNTZWN0aW9uIiwiYWRkSXRlbSIsImdlbmVyYXRlQ2FyZCIsInBvcHVwQXZhdGFyIiwiX3JlZjMiLCJuZXdBdmF0YXJMaW5rIiwic2V0QXZhdGFyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJnZXRVc2VySW5mbyIsImRhdGFVc2VyIiwiZ2V0Q2FyZHMiLCJjYXJkcyIsInJlbmRlciIsInRyaW0iLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==